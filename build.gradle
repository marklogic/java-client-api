subprojects {
    apply plugin: 'java'
    apply plugin: 'eclipse'

    configure(allprojects){
        ext.slf4jVersion = '1.7.30'
        ext.logbackVersion = '1.2.3'
    }
 	tasks.withType(JavaCompile) {
    	options.encoding = 'UTF-8'
  	}
    sourceCompatibility = "1.8"
    targetCompatibility = "1.8"

    sourceSets {
        test.compileClasspath += configurations.compileOnly
        test.runtimeClasspath += configurations.compileOnly
    }

    repositories {
        mavenLocal()
        mavenCentral()
        jcenter()
        maven { url "http://repo.maven.apache.org/maven2" }
    }

    dependencies {
        testImplementation group: 'junit', name: 'junit', version:'4.13'
        testImplementation group: 'xmlunit', name: 'xmlunit', version:'1.6'
        compileOnly group: 'org.apache.commons', name: 'commons-lang3', version:'3.10'
        compileOnly group: 'org.apache.httpcomponents', name: 'httpclient', version:'4.5.12'
    }

    test {
    	systemProperty "file.encoding", "UTF-8"
        systemProperty "javax.xml.stream.XMLOutputFactory", "com.sun.xml.internal.stream.XMLOutputFactoryImpl"
    }
}

task gradleWrapper(type: Wrapper) {
    gradleVersion = '6.7'
}
